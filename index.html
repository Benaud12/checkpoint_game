<!doctype html>
<html lang="en" ng-app="CheckpointApp">
  <head>
    <meta charset="utf-8">
    <title>Checkpoint Game</title>
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/firebase/firebase.js"></script>
    <script src="bower_components/angularfire/dist/angularfire.js"></script>
    <script src="bower_components/rsvp/rsvp.min.js"></script>
    <script src="bower_components/geofire/dist/geofire.js"></script>
    <script src="app/js/app.js"></script>
    <script src="app/js/databaseDataFactory.js"></script>
    <script src="app/js/gameController.js"></script>
    <script src="app/js/locationController.js"></script>
    <script src="app/js/userController.js"></script>

    <link rel="stylesheet" type="text/css" href="styles.css">

  </head>

  <body ng-controller="UserController as userCtrl">

    <h3>Checkpoint Game<h3>

    <div id="signed-in" ng-show="userCtrl.authData">
      <div ng-controller="GameController as gameCtrl">
        <div ng-hide="gameCtrl.nextUserCheckpoint">
          <button ng-click="gameCtrl.startGame()">Start Game</button>
        </div>
        <div ng-show="gameCtrl.nextUserCheckpoint">
          <ul class="list-group">
            <li ng-repeat="checkpoint in gameCtrl.userCheckpoints">
              <button class="checkpoint" id="checkpoint-{{checkpoint.id}}" style="background-color:{{checkpoint.color}}">{{checkpoint.name}}</button>
            </li>
          </ul>


          <div ng-controller="LocationController as locationCtrl">
            <div>
              Current location:<br>
              Latitude {{locationCtrl.latitude}}<br>
              Longitude {{locationCtrl.longitude}}
            </div>
            <button id="check-in" ng-click="locationCtrl.checkIn(gameCtrl.nextUserCheckpoint)">Check In</button>
          </div>
        </div>
      </div>
      <button ng-click="userCtrl.userLogout()">Sign out</button>
    </div>

    <div id="signed-out" ng-hide="userCtrl.authData">
      <div>
        <input type="text" ng-model="userCtrl.name" placeholder="name"/>
        <input type="text" ng-model="userCtrl.newEmail" placeholder="email"/>
        <input type="password" ng-model="userCtrl.newPassword" placeholder="password"/>
        <button ng-click="userCtrl.userSignup()">Sign up</button>
      </div>
      <div>
        <input type="text" ng-model="userCtrl.email" placeholder="email"/>
        <input type="password" ng-model="userCtrl.password" placeholder="password"/>
        <button ng-click="userCtrl.userLogin()">Sign in</button>
      </div>
    </div>



  </body>
</html>
